<!-- The main file which will act as the interface to BezierView 

     Author(s):
     Ruijin Wu
     Shayan Javed [shayanj at gmail.com]
-->

<!-- TODO:
     -User Interface for modifying parameters
     -Rendering surfaces and surface properties (curvature, reflection lines, normals, etc.)
     -Reading in multiple types 

     -->

<!doctype html>
<html lang="en">
  <head>
    <title>BezierView</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
	<link rel="stylesheet" href="css/main.css" />
  </head>
  <body>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.js" type="text/javascript"></script>
    <script>
		<!-- function for showing/hiding the input mesh text -->
		function toggleCustom(vis) {
			/*
			var div = document.getElementById("inputFile");
			if (vis)
				div.style.display = 'block';
			else
			div.style.display = 'none';
			*/
		}
		
		<!-- User input mesh -->
		function setCustomMesh() {
			removeAllMeshes();
		
			var inputText = document.getElementById("customMesh").value;
			loadMesh(inputText);
		}

		$(document).ready(function(){
			for( m in $('div.menu')) { 
				$(".title", m).hover(function(){
					$(".content").slideUp("fast");
					$("+ .content",this).slideDown("fast");
				}, function(){
				});
			}
			$(document).click(function() { $(".content").slideUp("fast"); });
		});
	</script>
	
	<!-- UI -->
	
	<div id="ui">
	<!-- Meshes -->
	<div class="menubar"> 
		<div class="apptitle">BezierView WebGL</div>
		<div class="menu" >
			<div class="title" >Choose Mesh</div>
			<ul class="content" style="width:20em" >
				<li>
				<input type="radio" name="mesh" value="polyhedron" id="polyhedron"
				onclick="toggleCustom(false);setMesh(polyhedron);"
				checked = "checked"> <label for="polyhedron">Cube (Polyhedron)</label>
				</li><li>
				<input type="radio" name="mesh" value="bicubic" id="bicubic"
				onclick="toggleCustom(false);setMesh(bicubic);"
				> <label for="bicubic">Bi-cubic Bezier </label>
				</li><li>
				<input type="radio" name="mesh" value="triangular" id="triangular"
				onclick="toggleCustom(false);setMesh(triangular);"
				> <label for="triangular">Triangular Cubic</label>
				</li><li>
				<input type="radio" name="mesh" value="rational" id="rational"
				onclick="toggleCustom(false);setMesh(rational);"
				> <label for="rational">Rational Bicubic</label>
				</li><li>
				<!--
				<input type="radio" name="mesh" value="custom"
				onclick="toggleCustom(true);"
				> Custom input mesh
				</li>
				-->
			</ul>
		</div>
		<div class="menu" >
			<div class="title" >Show</div>
			<ul class="content"  style="width:10em" >
				<li>
				<input type = "checkbox" checked="checked" id="cb_controlMesh" onClick="toggle_controlMeshes(true);"/>
				<label for="cb_controlMesh" >Control Mesh</label>
				</li>

				<li>
				<input type = "checkbox" checked="checked" id="cb_patches" onClick="toggle_patches(true);"/>
				<label for="cb_patches">Patches</label>
				</li>
			</ul>
		</div>
	
	
		<div class="menu" >
			<div class="title" >View</div>
			<ul class="content" style="width:20em" >
				<li>
				<input type="radio" name="renderMode" value="normal" id="normal"
				   onclick="setRenderMode(bvPatch.Normal);"
				   checked = "checked"><label for="normal" >Regular</label>
				</li><li>
				<input type="radio" name="renderMode" value="crv" id="crv"
				   onclick="setRenderMode(bvPatch.CurvatureColor);">
				<label for="crv" >Curvature </label>
				</li><li>
				<input type="radio" name="renderMode" value="highlight" id="highlight"
				   onclick="setRenderMode(bvPatch.HighlightLine);"
				   >
				<label for="highlight" >Highlight Lines </label>
				</li><li>
				<input type="radio" name="renderMode" value="reflect" id="reflect"
				   onclick="setRenderMode(bvPatch.ReflectionLine);">
				<label for="reflect" >Reflection Lines </label>
				</li>
			</ul>
		</div>

		<!-- Custom mesh input -->
		<div class="menu" >
			<div class="title" >Text Input</div>
			<div class="content" style="width:30em" >
				<textarea id="customMesh" name="custom" style="width:29em" rows="15">

				</textarea><br>
				<input type="button" value="Submit" onclick="setCustomMesh();"/>
			</div>
		</div>
	</div>

	<!-- The Three.js library for rendering -->
	<script src="js/Three.js"></script>

	<!-- The library for curvature rendering -->
	<script src="js/crv.js"></script>

	<!-- The library for highlight/reflectline -->
	<script src="js/highlight.js"></script>

	<!-- The library for bvPatch -->
	<script src="js/bvPatch.js"></script>

	<!-- Evaluating patches -->
	<script src="js/eval.js"></script>	
	
	<!-- The library for reading patches -->
	<script src="js/read.js"></script>
	
	
	
	<!-- The main renderer and starting point -->
	<script src="js/render.js"></script>

	
	
  </body>
</html>
